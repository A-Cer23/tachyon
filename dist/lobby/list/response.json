{
    "$id": "lobby/list/response",
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "command": {
                    "const": "lobby/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "lobbies": {
                            "type": "array",
                            "items": {
                                "examples": [
                                    {
                                        "id": 27,
                                        "name": "8v8 | All Welcome",
                                        "founderId": 822,
                                        "private": false,
                                        "democracy": true,
                                        "playerIds": [
                                            567,
                                            232,
                                            88,
                                            119
                                        ],
                                        "spectatorIds": [
                                            88
                                        ],
                                        "engine": "105.1.1-1821-gaca6f20 BAR105",
                                        "game": "Beyond All Reason test-23561-0abff7c",
                                        "map": "Red Comet Remake 1.8",
                                        "startAreas": {
                                            "0": {
                                                "x": 0,
                                                "y": 0,
                                                "width": 1,
                                                "height": 0.3
                                            },
                                            "1": {
                                                "x": 0,
                                                "y": 0.7,
                                                "width": 1,
                                                "height": 0.3
                                            }
                                        },
                                        "minTeamsize": 3,
                                        "maxTeamsize": 3,
                                        "minRating": null,
                                        "maxRating": 25
                                    }
                                ],
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "founderId": {
                                        "type": "integer"
                                    },
                                    "democracy": {
                                        "default": true,
                                        "type": "boolean"
                                    },
                                    "private": {
                                        "default": false,
                                        "type": "boolean"
                                    },
                                    "playerIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "spectatorIds": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "engine": {
                                        "type": "string"
                                    },
                                    "game": {
                                        "type": "string"
                                    },
                                    "map": {
                                        "type": "string"
                                    },
                                    "startAreas": {
                                        "default": {
                                            "0": {
                                                "x": 0,
                                                "y": 0,
                                                "width": 1,
                                                "height": 0.3
                                            },
                                            "1": {
                                                "x": 0,
                                                "y": 0.7,
                                                "width": 1,
                                                "height": 0.3
                                            }
                                        },
                                        "type": "object",
                                        "patternProperties": {
                                            "^(0|[1-9][0-9]*)$": {
                                                "examples": [
                                                    {
                                                        "x": 0,
                                                        "y": 0,
                                                        "width": 1,
                                                        "height": 0.3
                                                    }
                                                ],
                                                "type": "object",
                                                "properties": {
                                                    "x": {
                                                        "type": "number"
                                                    },
                                                    "y": {
                                                        "type": "number"
                                                    },
                                                    "width": {
                                                        "type": "number"
                                                    },
                                                    "height": {
                                                        "type": "number"
                                                    }
                                                },
                                                "required": [
                                                    "x",
                                                    "y",
                                                    "width",
                                                    "height"
                                                ]
                                            }
                                        }
                                    },
                                    "minTeamsize": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    },
                                    "maxTeamsize": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    },
                                    "minRating": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    },
                                    "maxRating": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    }
                                },
                                "required": [
                                    "id",
                                    "name",
                                    "founderId",
                                    "democracy",
                                    "private",
                                    "playerIds",
                                    "spectatorIds",
                                    "engine",
                                    "game",
                                    "map",
                                    "startAreas",
                                    "minTeamsize",
                                    "maxTeamsize",
                                    "minRating",
                                    "maxRating"
                                ]
                            }
                        }
                    },
                    "required": [
                        "lobbies"
                    ]
                }
            },
            "required": [
                "command",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "command": {
                    "const": "lobby/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "command",
                "status",
                "reason"
            ]
        }
    ]
}