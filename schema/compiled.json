{
    "definitions": {
        "allyTeam": {
            "$id": "allyTeam",
            "type": "object",
            "properties": {
                "teams": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/team"
                    }
                },
                "startBox": {
                    "$ref": "#/definitions/startBox"
                },
                "options": {
                    "type": "object",
                    "patternProperties": {
                        "^(.*)$": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "teams",
                "startBox"
            ],
            "title": "AllyTeam"
        },
        "bot": {
            "$id": "bot",
            "type": "object",
            "properties": {
                "hostUserId": {
                    "format": "uuid",
                    "description": "UserId of the player hosting this AI",
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "aiShortName": {
                    "type": "string"
                },
                "aiVersion": {
                    "type": "string"
                },
                "customOptions": {
                    "type": "object",
                    "patternProperties": {
                        "^(.*)$": {}
                    }
                }
            },
            "required": [
                "hostUserId",
                "name",
                "aiShortName",
                "aiVersion",
                "customOptions"
            ],
            "title": "Bot"
        },
        "player": {
            "$id": "player",
            "allOf": [
                {
                    "$ref": "#/definitions/spectator"
                },
                {
                    "type": "object",
                    "properties": {
                        "customOptions": {
                            "type": "object",
                            "patternProperties": {
                                "^(.*)$": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            ],
            "title": "Player"
        },
        "privateUser": {
            "$id": "privateUser",
            "allOf": [
                {
                    "$ref": "#/definitions/user"
                },
                {
                    "type": "object",
                    "properties": {
                        "friendIds": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "outgoingFriendRequestIds": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "incomingFriendRequestIds": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "ignoreIds": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "required": [
                        "friendIds",
                        "outgoingFriendRequestIds",
                        "incomingFriendRequestIds",
                        "ignoreIds"
                    ]
                }
            ],
            "title": "PrivateUser"
        },
        "spectator": {
            "$id": "spectator",
            "type": "object",
            "properties": {
                "userId": {
                    "$ref": "#/definitions/userId"
                },
                "name": {
                    "description": "Name of the player, must be unique just like userId",
                    "type": "string"
                },
                "rank": {
                    "type": "integer"
                },
                "countryCode": {
                    "type": "string"
                }
            },
            "required": [
                "userId",
                "name",
                "rank",
                "countryCode"
            ],
            "title": "Spectator"
        },
        "startBox": {
            "$id": "startBox",
            "type": "object",
            "properties": {
                "top": {
                    "minimum": 0,
                    "maximum": 200,
                    "type": "integer"
                },
                "bottom": {
                    "minimum": 0,
                    "maximum": 200,
                    "type": "integer"
                },
                "left": {
                    "minimum": 0,
                    "maximum": 200,
                    "type": "integer"
                },
                "right": {
                    "minimum": 0,
                    "maximum": 200,
                    "type": "integer"
                }
            },
            "required": [
                "top",
                "bottom",
                "left",
                "right"
            ],
            "title": "StartBox"
        },
        "startPosType": {
            "$id": "startPosType",
            "enum": [
                "fixed",
                "random",
                "ingame",
                "beforegame"
            ],
            "title": "StartPosType"
        },
        "team": {
            "$id": "team",
            "type": "object",
            "properties": {
                "players": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/player"
                    }
                },
                "bots": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/bot"
                    }
                },
                "advantage": {
                    "minimum": -1,
                    "type": "number"
                },
                "incomeMultiplier": {
                    "minimum": 0,
                    "type": "number"
                },
                "faction": {
                    "type": "string"
                },
                "color": {
                    "type": "object",
                    "properties": {
                        "r": {
                            "minimum": 0,
                            "maximum": 1,
                            "type": "number"
                        },
                        "g": {
                            "minimum": 0,
                            "maximum": 1,
                            "type": "number"
                        },
                        "b": {
                            "minimum": 0,
                            "maximum": 1,
                            "type": "number"
                        }
                    },
                    "required": [
                        "r",
                        "g",
                        "b"
                    ]
                },
                "startPos": {
                    "type": "object",
                    "properties": {
                        "x": {
                            "type": "integer"
                        },
                        "y": {
                            "type": "integer"
                        }
                    },
                    "required": [
                        "x",
                        "y"
                    ]
                },
                "options": {
                    "type": "object",
                    "patternProperties": {
                        "^(.*)$": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "players",
                "bots",
                "faction",
                "color"
            ],
            "title": "Team"
        },
        "unixTime": {
            "$id": "unixTime",
            "description": "Unix timestamp in microseconds",
            "examples": [
                1705432698
            ],
            "type": "integer",
            "title": "UnixTime"
        },
        "user": {
            "$id": "user",
            "type": "object",
            "properties": {
                "userId": {
                    "$ref": "#/definitions/userId"
                },
                "username": {
                    "type": "string"
                },
                "displayName": {
                    "type": "string"
                },
                "clanId": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "partyId": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "countryCode": {
                    "type": "string"
                },
                "status": {
                    "anyOf": [
                        {
                            "const": "offline",
                            "type": "string"
                        },
                        {
                            "const": "menu",
                            "type": "string"
                        },
                        {
                            "const": "playing",
                            "type": "string"
                        },
                        {
                            "const": "lobby",
                            "type": "string"
                        }
                    ]
                }
            },
            "required": [
                "userId",
                "username",
                "displayName",
                "clanId",
                "partyId",
                "scopes",
                "status"
            ],
            "title": "User"
        },
        "userId": {
            "$id": "userId",
            "format": "uuid",
            "examples": [
                "f47a7e1e-4b2f-4d3d-3f3c-1f0f0e4b7e1e"
            ],
            "type": "string",
            "title": "UserId"
        }
    },
    "anyOf": [
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/addPlayer/request",
            "title": "AutohostAddPlayerRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/addPlayer",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "userId": {
                            "$ref": "#/definitions/userId"
                        },
                        "name": {
                            "type": "string"
                        },
                        "password": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "battleId",
                        "userId",
                        "name",
                        "password"
                    ],
                    "title": "AutohostAddPlayerRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/addPlayer/response",
            "title": "AutohostAddPlayerResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostAddPlayerOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/addPlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostAddPlayerFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/addPlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/kickPlayer/request",
            "title": "AutohostKickPlayerRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/kickPlayer",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "userId": {
                            "$ref": "#/definitions/userId"
                        }
                    },
                    "required": [
                        "battleId",
                        "userId"
                    ],
                    "title": "AutohostKickPlayerRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/kickPlayer/response",
            "title": "AutohostKickPlayerResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostKickPlayerOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/kickPlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostKickPlayerFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/kickPlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/kill/request",
            "title": "AutohostKillRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/kill",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        }
                    },
                    "required": [
                        "battleId"
                    ],
                    "title": "AutohostKillRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/kill/response",
            "title": "AutohostKillResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostKillOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/kill",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostKillFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/kill",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/mutePlayer/request",
            "title": "AutohostMutePlayerRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/mutePlayer",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "userId": {
                            "$ref": "#/definitions/userId"
                        }
                    },
                    "required": [
                        "battleId",
                        "userId"
                    ],
                    "title": "AutohostMutePlayerRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/mutePlayer/response",
            "title": "AutohostMutePlayerResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostMutePlayerOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/mutePlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostMutePlayerFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/mutePlayer",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/sendCommand/request",
            "title": "AutohostSendCommandRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/sendCommand",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "command": {
                            "type": "string"
                        },
                        "arguments": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "required": [
                        "battleId",
                        "command"
                    ],
                    "title": "AutohostSendCommandRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/sendCommand/response",
            "title": "AutohostSendCommandResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostSendCommandOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/sendCommand",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostSendCommandFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/sendCommand",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/sendMessage/request",
            "title": "AutohostSendMessageRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/sendMessage",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "message": {
                            "maxLength": 127,
                            "type": "string"
                        }
                    },
                    "required": [
                        "battleId",
                        "message"
                    ],
                    "title": "AutohostSendMessageRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/sendMessage/response",
            "title": "AutohostSendMessageResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostSendMessageOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/sendMessage",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostSendMessageFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/sendMessage",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/specPlayers/request",
            "title": "AutohostSpecPlayersRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/specPlayers",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "userIds": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/userId"
                            }
                        }
                    },
                    "required": [
                        "battleId",
                        "userIds"
                    ],
                    "title": "AutohostSpecPlayersRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/specPlayers/response",
            "title": "AutohostSpecPlayersResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostSpecPlayersOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/specPlayers",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostSpecPlayersFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/specPlayers",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/start/request",
            "title": "AutohostStartRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/start",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "type": "string"
                        },
                        "engineVersion": {
                            "pattern": "^[0-9a-zA-Z .+-]+$",
                            "type": "string"
                        },
                        "gameName": {
                            "type": "string"
                        },
                        "mapName": {
                            "type": "string"
                        },
                        "gameArchiveHash": {
                            "pattern": "^[a-fA-F0-9]{128}$",
                            "type": "string"
                        },
                        "mapArchiveHash": {
                            "pattern": "^[a-fA-F0-9]{128}$",
                            "type": "string"
                        },
                        "startDelay": {
                            "type": "integer"
                        },
                        "startPosType": {
                            "$ref": "#/definitions/startPosType"
                        },
                        "allyTeams": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/allyTeam"
                            }
                        },
                        "spectators": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/spectator"
                            }
                        },
                        "mapOptions": {
                            "type": "object",
                            "patternProperties": {
                                "^(.*)$": {
                                    "type": "string"
                                }
                            }
                        },
                        "gameOptions": {
                            "type": "object",
                            "patternProperties": {
                                "^(.*)$": {
                                    "type": "string"
                                }
                            }
                        },
                        "restrictions": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "unitId": {
                                        "type": "string"
                                    },
                                    "limit": {
                                        "minimum": 0,
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "unitId",
                                    "limit"
                                ]
                            }
                        }
                    },
                    "required": [
                        "battleId",
                        "engineVersion",
                        "gameName",
                        "mapName",
                        "gameArchiveHash",
                        "mapArchiveHash",
                        "startDelay",
                        "startPosType",
                        "allyTeams",
                        "spectators"
                    ],
                    "title": "AutohostStartRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/start/response",
            "title": "AutohostStartResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostStartOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/start",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        },
                        "data": {
                            "type": "object",
                            "properties": {
                                "ips": {
                                    "type": "array",
                                    "items": {
                                        "anyOf": [
                                            {
                                                "format": "ipv4",
                                                "type": "string"
                                            },
                                            {
                                                "format": "ipv6",
                                                "type": "string"
                                            }
                                        ]
                                    }
                                },
                                "port": {
                                    "minimum": 1024,
                                    "maximum": 65535,
                                    "type": "integer"
                                }
                            },
                            "required": [
                                "ips",
                                "port"
                            ],
                            "title": "AutohostStartOkResponseData"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "data"
                    ]
                },
                {
                    "title": "AutohostStartFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/start",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "invalid_script",
                                "server_already_running",
                                "server_failed_to_start",
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/status/event",
            "title": "AutohostStatusEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/status",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "maxBattles": {
                            "minimum": 0,
                            "type": "integer"
                        },
                        "currentBattles": {
                            "minimum": 0,
                            "type": "integer"
                        }
                    },
                    "required": [
                        "maxBattles",
                        "currentBattles"
                    ],
                    "title": "AutohostStatusEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/subscribeUpdates/request",
            "title": "AutohostSubscribeUpdatesRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/subscribeUpdates",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "since": {
                            "$ref": "#/definitions/unixTime"
                        }
                    },
                    "required": [
                        "since"
                    ],
                    "title": "AutohostSubscribeUpdatesRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/subscribeUpdates/response",
            "title": "AutohostSubscribeUpdatesResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "AutohostSubscribeUpdatesOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/subscribeUpdates",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "AutohostSubscribeUpdatesFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "autohost/subscribeUpdates",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "autohost/update/event",
            "title": "AutohostUpdateEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "autohost/update",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "format": "uuid",
                            "type": "string"
                        },
                        "time": {
                            "$ref": "#/definitions/unixTime"
                        },
                        "update": {
                            "anyOf": [
                                {
                                    "description": "The battle has started.",
                                    "title": "StartUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "start",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "type"
                                    ]
                                },
                                {
                                    "description": "The battle finished, generated once per every single player reporting who won.",
                                    "title": "FinishedUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "finished",
                                            "type": "string"
                                        },
                                        "userId": {
                                            "$ref": "#/definitions/userId"
                                        },
                                        "winningAllyTeams": {
                                            "minItems": 1,
                                            "description": "Ally team IDs",
                                            "type": "array",
                                            "items": {
                                                "type": "integer"
                                            }
                                        }
                                    },
                                    "required": [
                                        "type",
                                        "userId",
                                        "winningAllyTeams"
                                    ]
                                },
                                {
                                    "description": "A message from the engine, e.g. some ip is trying to connect.",
                                    "title": "EngineMessageUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "engine_message",
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "type",
                                        "message"
                                    ]
                                },
                                {
                                    "description": "A warning from the engine.",
                                    "title": "EngineWarningUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "engine_warning",
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "type",
                                        "message"
                                    ]
                                },
                                {
                                    "description": "The engine process for battle has quit cleanly, no more updates will be sent for this battle.",
                                    "title": "EngineQuitUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "engine_quit",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "type"
                                    ]
                                },
                                {
                                    "description": "The engine process for battle has crashed, no more updates will be sent for this battle.",
                                    "title": "EngineCrashUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "engine_crash",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "type"
                                    ]
                                },
                                {
                                    "description": "Player number in the game, can be useful for custom commands.",
                                    "title": "PlayerJoinedUpdate",
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "player_joined",
                                            "type": "string"
                                        },
                                        "userId": {
                                            "$ref": "#/definitions/userId"
                                        },
                                        "playerNumber": {
                                            "type": "integer"
                                        }
                                    },
                                    "required": [
                                        "type",
                                        "userId",
                                        "playerNumber"
                                    ]
                                }
                            ]
                        }
                    },
                    "required": [
                        "battleId",
                        "time",
                        "update"
                    ],
                    "title": "AutohostUpdateEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "battle/start/request",
            "title": "BattleStartRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "battle/start",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "username": {
                            "type": "string"
                        },
                        "password": {
                            "type": "string"
                        },
                        "ip": {
                            "type": "string"
                        },
                        "port": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "username",
                        "password",
                        "ip",
                        "port"
                    ],
                    "title": "BattleStartRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "battle/start/response",
            "title": "BattleStartResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "BattleStartOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "battle/start",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "BattleStartFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "battle/start",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/cancel/request",
            "title": "MatchmakingCancelRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/cancel/response",
            "title": "MatchmakingCancelResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "MatchmakingCancelOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/cancel",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "MatchmakingCancelFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/cancel",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "not_queued",
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/found/event",
            "title": "MatchmakingFoundEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/found",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "queueId": {
                            "type": "string"
                        },
                        "timeoutMs": {
                            "type": "integer"
                        }
                    },
                    "required": [
                        "queueId",
                        "timeoutMs"
                    ],
                    "title": "MatchmakingFoundEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/foundUpdate/event",
            "title": "MatchmakingFoundUpdateEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/foundUpdate",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "readyCount": {
                            "type": "integer"
                        }
                    },
                    "required": [
                        "readyCount"
                    ],
                    "title": "MatchmakingFoundUpdateEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/list/request",
            "title": "MatchmakingListRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/list/response",
            "title": "MatchmakingListResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "MatchmakingListOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/list",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        },
                        "data": {
                            "examples": [
                                {
                                    "playlists": [
                                        {
                                            "id": "1v1",
                                            "name": "Duel",
                                            "numOfTeams": 2,
                                            "teamSize": 1,
                                            "ranked": true
                                        },
                                        {
                                            "id": "1v1v1",
                                            "name": "3 Way FFA",
                                            "numOfTeams": 3,
                                            "teamSize": 1,
                                            "ranked": true
                                        }
                                    ]
                                }
                            ],
                            "type": "object",
                            "properties": {
                                "playlists": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "id": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "numOfTeams": {
                                                "type": "integer"
                                            },
                                            "teamSize": {
                                                "type": "integer"
                                            },
                                            "ranked": {
                                                "type": "boolean"
                                            }
                                        },
                                        "required": [
                                            "id",
                                            "name",
                                            "numOfTeams",
                                            "teamSize",
                                            "ranked"
                                        ]
                                    }
                                }
                            },
                            "required": [
                                "playlists"
                            ],
                            "title": "MatchmakingListOkResponseData"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "data"
                    ]
                },
                {
                    "title": "MatchmakingListFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/list",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/lost/event",
            "title": "MatchmakingLostEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/lost",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/queue/request",
            "title": "MatchmakingQueueRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "queues": {
                            "minItems": 1,
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "required": [
                        "queues"
                    ],
                    "title": "MatchmakingQueueRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/queue/response",
            "title": "MatchmakingQueueResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "MatchmakingQueueOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/queue",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "MatchmakingQueueFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/queue",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "invalid_queue_specified",
                                "already_queued",
                                "already_inbattle",
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/queueUpdate/event",
            "title": "MatchmakingQueueUpdateEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queueUpdate",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "playersQueued": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "playersQueued"
                    ],
                    "title": "MatchmakingQueueUpdateEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/ready/request",
            "title": "MatchmakingReadyRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/ready/response",
            "title": "MatchmakingReadyResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "MatchmakingReadyOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/ready",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "MatchmakingReadyFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "matchmaking/ready",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "no_match",
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "matchmaking/readyUpdate/event",
            "title": "MatchmakingReadyUpdateEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/readyUpdate",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "readyMax": {
                            "type": "integer"
                        },
                        "readyCurrent": {
                            "type": "integer"
                        }
                    },
                    "required": [
                        "readyMax",
                        "readyCurrent"
                    ],
                    "title": "MatchmakingReadyUpdateEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "system/disconnect/request",
            "title": "SystemDisconnectRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "system/disconnect",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "reason": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "reason"
                    ],
                    "title": "SystemDisconnectRequestData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "system/disconnect/response",
            "title": "SystemDisconnectResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "SystemDisconnectOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "system/disconnect",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status"
                    ]
                },
                {
                    "title": "SystemDisconnectFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "system/disconnect",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "system/serverStats/request",
            "title": "SystemServerStatsRequest",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "request",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "system/serverStats",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId"
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "system/serverStats/response",
            "title": "SystemServerStatsResponse",
            "scopes": [
                "tachyon.lobby"
            ],
            "anyOf": [
                {
                    "title": "SystemServerStatsOkResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "system/serverStats",
                            "type": "string"
                        },
                        "status": {
                            "const": "success",
                            "type": "string"
                        },
                        "data": {
                            "type": "object",
                            "properties": {
                                "userCount": {
                                    "type": "integer"
                                }
                            },
                            "required": [
                                "userCount"
                            ],
                            "title": "SystemServerStatsOkResponseData"
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "data"
                    ]
                },
                {
                    "title": "SystemServerStatsFailResponse",
                    "type": "object",
                    "properties": {
                        "type": {
                            "const": "response",
                            "type": "string"
                        },
                        "messageId": {
                            "type": "string"
                        },
                        "commandId": {
                            "const": "system/serverStats",
                            "type": "string"
                        },
                        "status": {
                            "const": "failed",
                            "type": "string"
                        },
                        "reason": {
                            "enum": [
                                "internal_error",
                                "unauthorized",
                                "invalid_request",
                                "command_unimplemented"
                            ]
                        }
                    },
                    "required": [
                        "type",
                        "messageId",
                        "commandId",
                        "status",
                        "reason"
                    ]
                }
            ]
        },
        {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "$id": "user/updated/event",
            "title": "UserUpdatedEvent",
            "scopes": [
                "tachyon.lobby"
            ],
            "type": "object",
            "properties": {
                "type": {
                    "const": "event",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "user/updated",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "users": {
                            "type": "array",
                            "items": {
                                "allOf": [
                                    {
                                        "type": "object",
                                        "properties": {
                                            "userId": {
                                                "format": "uuid",
                                                "examples": [
                                                    "f47a7e1e-4b2f-4d3d-3f3c-1f0f0e4b7e1e"
                                                ],
                                                "type": "string"
                                            },
                                            "username": {
                                                "type": "string"
                                            },
                                            "displayName": {
                                                "type": "string"
                                            },
                                            "clanId": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "partyId": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "scopes": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            "countryCode": {
                                                "type": "string"
                                            },
                                            "status": {
                                                "anyOf": [
                                                    {
                                                        "const": "offline",
                                                        "type": "string"
                                                    },
                                                    {
                                                        "const": "menu",
                                                        "type": "string"
                                                    },
                                                    {
                                                        "const": "playing",
                                                        "type": "string"
                                                    },
                                                    {
                                                        "const": "lobby",
                                                        "type": "string"
                                                    }
                                                ]
                                            }
                                        }
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "friendIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            "outgoingFriendRequestIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            "incomingFriendRequestIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            "ignoreIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                ],
                                "type": "object"
                            }
                        }
                    },
                    "required": [
                        "users"
                    ],
                    "title": "UserUpdatedEventData"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "data"
            ]
        }
    ]
}