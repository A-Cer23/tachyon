<!-- THIS FILE IS AUTOMATICALLY GENERATED, PLEASE DO NOT EDIT IT MANUALLY -->

# CustomBattle

These commands relate to custom battles.

---
- [close](#close)
- [create](#create)
- [join](#join)
- [joined](#joined)
- [leave](#leave)
- [left](#left)
- [list](#list)
- [receiveMessage](#receivemessage)
- [sendMessage](#sendmessage)
- [subscribe](#subscribe)
- [unsubscribe](#unsubscribe)
- [updated](#updated)
---

## Close

Close an existing lobby.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/close/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/close/request",
            "type": "string"
        }
    },
    "required": [
        "messageId",
        "commandId"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleCloseRequest {
    messageId: string;
    commandId: "customBattle/close/request";
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/close/request"
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/close/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/close/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/close/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/close/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/close/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleCloseResponse =
    | {
          messageId: string;
          commandId: "customBattle/close/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/close/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/close/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/close/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/close/response",
    "status": "success"
}
```
---

## Create

Create a new lobby - intended for player clients to summon a dedicated host.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/create/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/create/request",
            "type": "string"
        },
        "data": {
            "examples": [
                {
                    "title": "8v8 | All Welcome",
                    "private": false,
                    "region": "EU",
                    "maxPlayers": 16
                }
            ],
            "type": "object",
            "properties": {
                "title": {
                    "minLength": 2,
                    "maxLength": 30,
                    "type": "string"
                },
                "private": {
                    "default": true,
                    "type": "boolean"
                },
                "region": {
                    "type": "string"
                },
                "maxPlayers": {
                    "minimum": 0,
                    "default": 16,
                    "type": "integer"
                }
            },
            "required": [
                "title",
                "private",
                "region",
                "maxPlayers"
            ]
        }
    },
    "required": [
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleCreateRequest {
    messageId: string;
    commandId: "customBattle/create/request";
    data: {
        title: string;
        private: boolean;
        region: string;
        maxPlayers: number;
    };
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/create/request",
    "data": {
        "title": "8v8 | All Welcome",
        "private": false,
        "region": "EU",
        "maxPlayers": 16
    }
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/create/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "no_hosts_available",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_region",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/create/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleCreateResponse =
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "failed";
          reason: "no_hosts_available";
      }
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "failed";
          reason: "invalid_region";
      }
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/create/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/create/response",
    "status": "success"
}
```
---

## Join

Join a custom lobby. Server will send a [joined](#joined) response containing the joined lobby's data. 
These commands are split because the server may want to force the client to join a battle without them explicitly requesting it.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/join/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/join/request",
            "type": "string"
        },
        "data": {
            "examples": [
                {
                    "lobbyId": 27,
                    "password": "fish"
                }
            ],
            "type": "object",
            "properties": {
                "lobbyId": {
                    "type": "integer"
                },
                "password": {
                    "type": "string"
                }
            },
            "required": [
                "lobbyId"
            ]
        }
    },
    "required": [
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleJoinRequest {
    messageId: string;
    commandId: "customBattle/join/request";
    data: {
        lobbyId: number;
        password?: string;
    };
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/join/request",
    "data": {
        "lobbyId": 27,
        "password": "fish"
    }
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/join/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "locked",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "requires_password",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_password",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "max_participants_reached",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "rank_too_low",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "rank_too_high",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "banned",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/join/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleJoinResponse =
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "locked";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "requires_password";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "invalid_password";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "max_participants_reached";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "rank_too_low";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "rank_too_high";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "banned";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/join/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/join/response",
    "status": "success"
}
```
---

## Joined

Sent when the client successfully joins a lobby. Can also be sent at any time by the server to forcibly make the client join a lobby.

- Endpoint Type: **Response** only
- Requires Login: **false**
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/joined/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/joined/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "examples": [
                        {
                            "battleId": 27,
                            "hostId": 822,
                            "engine": "105.1.1-1821-gaca6f20 BAR105",
                            "game": "Beyond All Reason test-23561-0abff7c",
                            "map": "Red Comet Remake 1.8",
                            "startPosType": 2,
                            "startAreas": {
                                "0": {
                                    "x": 0,
                                    "y": 0,
                                    "width": 1,
                                    "height": 0.3
                                },
                                "1": {
                                    "x": 0,
                                    "y": 0.7,
                                    "width": 1,
                                    "height": 0.3
                                }
                            },
                            "startTime": 1705366151472,
                            "ip": "121.32.201.76",
                            "port": 41403,
                            "scriptPassword": "10sdfi90sid0sjkdf",
                            "modOptions": {
                                "emprework": 0
                            },
                            "bots": [],
                            "users": []
                        }
                    ],
                    "type": "object",
                    "properties": {
                        "battleId": {
                            "type": "integer"
                        },
                        "hostId": {
                            "type": "integer"
                        },
                        "engine": {
                            "type": "string"
                        },
                        "game": {
                            "type": "string"
                        },
                        "map": {
                            "type": "string"
                        },
                        "startPosType": {
                            "anyOf": [
                                {
                                    "description": "Fixed",
                                    "const": 0,
                                    "type": "number"
                                },
                                {
                                    "description": "Random",
                                    "const": 1,
                                    "type": "number"
                                },
                                {
                                    "description": "Boxes",
                                    "const": 2,
                                    "type": "number"
                                }
                            ]
                        },
                        "startAreas": {
                            "type": "object",
                            "patternProperties": {
                                "^(0|[1-9][0-9]*)$": {
                                    "examples": [
                                        {
                                            "x": 0,
                                            "y": 0,
                                            "width": 1,
                                            "height": 0.3
                                        }
                                    ],
                                    "type": "object",
                                    "properties": {
                                        "x": {
                                            "type": "number"
                                        },
                                        "y": {
                                            "type": "number"
                                        },
                                        "width": {
                                            "type": "number"
                                        },
                                        "height": {
                                            "type": "number"
                                        }
                                    },
                                    "required": [
                                        "x",
                                        "y",
                                        "width",
                                        "height"
                                    ]
                                }
                            }
                        },
                        "startTime": {
                            "anyOf": [
                                {
                                    "description": "Unix time",
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "ip": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "port": {
                            "anyOf": [
                                {
                                    "type": "integer"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "scriptPassword": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "modOptions": {
                            "type": "object",
                            "patternProperties": {
                                "^(.*)$": {}
                            }
                        },
                        "bots": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "allOf": [
                                    {
                                        "type": "object",
                                        "properties": {
                                            "playerId": {
                                                "type": "integer"
                                            },
                                            "teamId": {
                                                "type": "integer"
                                            },
                                            "color": {
                                                "type": "string"
                                            },
                                            "bonus": {
                                                "type": "number"
                                            },
                                            "inGame": {
                                                "type": "boolean"
                                            }
                                        },
                                        "required": [
                                            "playerId",
                                            "teamId",
                                            "color",
                                            "bonus",
                                            "inGame"
                                        ]
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "isSpectator": {
                                                "const": false,
                                                "type": "boolean"
                                            },
                                            "isBot": {
                                                "const": true,
                                                "type": "boolean"
                                            },
                                            "ownerId": {
                                                "type": "integer"
                                            },
                                            "aiShortName": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "aiOptions": {
                                                "type": "object",
                                                "patternProperties": {
                                                    "^(.*)$": {}
                                                }
                                            },
                                            "faction": {
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "isSpectator",
                                            "isBot",
                                            "ownerId",
                                            "aiShortName",
                                            "name",
                                            "aiOptions",
                                            "faction"
                                        ]
                                    }
                                ]
                            }
                        },
                        "users": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "userId": {
                                        "type": "integer"
                                    },
                                    "displayName": {
                                        "type": "string"
                                    },
                                    "avatarUrl": {
                                        "format": "uri",
                                        "type": "string"
                                    },
                                    "clanId": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    },
                                    "partyId": {
                                        "anyOf": [
                                            {
                                                "type": "integer"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    },
                                    "roles": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "countryCode": {
                                        "type": "string"
                                    },
                                    "battleStatus": {
                                        "anyOf": [
                                            {
                                                "allOf": [
                                                    {
                                                        "type": "object",
                                                        "properties": {
                                                            "battleId": {
                                                                "type": "integer"
                                                            }
                                                        },
                                                        "required": [
                                                            "battleId"
                                                        ]
                                                    },
                                                    {
                                                        "anyOf": [
                                                            {
                                                                "type": "object",
                                                                "allOf": [
                                                                    {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "playerId": {
                                                                                "type": "integer"
                                                                            },
                                                                            "teamId": {
                                                                                "type": "integer"
                                                                            },
                                                                            "color": {
                                                                                "type": "string"
                                                                            },
                                                                            "bonus": {
                                                                                "type": "number"
                                                                            },
                                                                            "inGame": {
                                                                                "type": "boolean"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "playerId",
                                                                            "teamId",
                                                                            "color",
                                                                            "bonus",
                                                                            "inGame"
                                                                        ]
                                                                    },
                                                                    {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "isSpectator": {
                                                                                "const": false,
                                                                                "type": "boolean"
                                                                            },
                                                                            "isBot": {
                                                                                "const": false,
                                                                                "type": "boolean"
                                                                            },
                                                                            "ready": {
                                                                                "type": "boolean"
                                                                            },
                                                                            "sync": {
                                                                                "type": "object",
                                                                                "properties": {
                                                                                    "engine": {
                                                                                        "type": "number"
                                                                                    },
                                                                                    "game": {
                                                                                        "type": "number"
                                                                                    },
                                                                                    "map": {
                                                                                        "type": "number"
                                                                                    }
                                                                                },
                                                                                "required": [
                                                                                    "engine",
                                                                                    "game",
                                                                                    "map"
                                                                                ]
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "isSpectator",
                                                                            "isBot",
                                                                            "ready",
                                                                            "sync"
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "type": "object",
                                                                "properties": {
                                                                    "isSpectator": {
                                                                        "const": true,
                                                                        "type": "boolean"
                                                                    },
                                                                    "isBot": {
                                                                        "const": false,
                                                                        "type": "boolean"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "isSpectator",
                                                                    "isBot"
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ]
                                    }
                                },
                                "required": [
                                    "userId",
                                    "displayName",
                                    "avatarUrl",
                                    "clanId",
                                    "partyId",
                                    "roles",
                                    "battleStatus"
                                ]
                            }
                        }
                    },
                    "required": [
                        "battleId",
                        "hostId",
                        "engine",
                        "game",
                        "map",
                        "startPosType",
                        "startAreas",
                        "startTime",
                        "ip",
                        "port",
                        "scriptPassword",
                        "modOptions",
                        "bots",
                        "users"
                    ]
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/joined/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/joined/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/joined/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleJoinedResponse =
    | {
          messageId: string;
          commandId: "customBattle/joined/response";
          status: "success";
          data: {
              battleId: number;
              hostId: number;
              engine: string;
              game: string;
              map: string;
              startPosType: 0 | 1 | 2;
              startAreas: {
                  [k: string]: {
                      x: number;
                      y: number;
                      width: number;
                      height: number;
                  };
              };
              startTime: number | null;
              ip: string | null;
              port: number | null;
              scriptPassword: string | null;
              modOptions: {
                  [k: string]: unknown;
              };
              bots: ({
                  playerId: number;
                  teamId: number;
                  color: string;
                  bonus: number;
                  inGame: boolean;
              } & {
                  isSpectator: false;
                  isBot: true;
                  ownerId: number;
                  aiShortName: string;
                  name: string;
                  aiOptions: {
                      [k: string]: unknown;
                  };
                  faction: string;
              })[];
              users: {
                  userId: number;
                  displayName: string;
                  avatarUrl: string;
                  clanId: number | null;
                  partyId: number | null;
                  roles: string[];
                  countryCode?: string;
                  battleStatus:
                      | ({
                            battleId: number;
                        } & (
                            | ({
                                  playerId: number;
                                  teamId: number;
                                  color: string;
                                  bonus: number;
                                  inGame: boolean;
                              } & {
                                  isSpectator: false;
                                  isBot: false;
                                  ready: boolean;
                                  sync: {
                                      engine: number;
                                      game: number;
                                      map: number;
                                  };
                              })
                            | {
                                  isSpectator: true;
                                  isBot: false;
                              }
                        ))
                      | null;
              }[];
          };
      }
    | {
          messageId: string;
          commandId: "customBattle/joined/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/joined/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/joined/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/joined/response",
    "status": "success",
    "data": {
        "battleId": 27,
        "hostId": 822,
        "engine": "105.1.1-1821-gaca6f20 BAR105",
        "game": "Beyond All Reason test-23561-0abff7c",
        "map": "Red Comet Remake 1.8",
        "startPosType": 2,
        "startAreas": {
            "0": {
                "x": 0,
                "y": 0,
                "width": 1,
                "height": 0.3
            },
            "1": {
                "x": 0,
                "y": 0.7,
                "width": 1,
                "height": 0.3
            }
        },
        "startTime": 1705366151472,
        "ip": "121.32.201.76",
        "port": 41403,
        "scriptPassword": "10sdfi90sid0sjkdf",
        "modOptions": {
            "emprework": 0
        },
        "bots": [],
        "users": []
    }
}
```
---

## Leave

Leave the current lobby.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/leave/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/leave/request",
            "type": "string"
        }
    },
    "required": [
        "messageId",
        "commandId"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleLeaveRequest {
    messageId: string;
    commandId: "customBattle/leave/request";
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/leave/request"
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/leave/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/leave/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/leave/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "no_lobby",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/leave/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/leave/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/leave/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleLeaveResponse =
    | {
          messageId: string;
          commandId: "customBattle/leave/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/leave/response";
          status: "failed";
          reason: "no_lobby";
      }
    | {
          messageId: string;
          commandId: "customBattle/leave/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/leave/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/leave/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/leave/response",
    "status": "success"
}
```
---

## Left

Sent when the server removes the client from a lobby.

- Endpoint Type: **Response** only
- Requires Login: **false**
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/left/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/left/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/left/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/left/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/left/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleLeftResponse =
    | {
          messageId: string;
          commandId: "customBattle/left/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/left/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/left/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/left/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/left/response",
    "status": "success"
}
```
---

## List

Returns all custom lobbies.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/list/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/list/request",
            "type": "string"
        }
    },
    "required": [
        "messageId",
        "commandId"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleListRequest {
    messageId: string;
    commandId: "customBattle/list/request";
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/list/request"
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/list/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battles": {
                            "type": "array",
                            "items": {
                                "examples": [
                                    {
                                        "battleId": 27,
                                        "hostId": 822,
                                        "engine": "105.1.1-1821-gaca6f20 BAR105",
                                        "game": "Beyond All Reason test-23561-0abff7c",
                                        "map": "Red Comet Remake 1.8",
                                        "startPosType": 2,
                                        "startAreas": {
                                            "0": {
                                                "x": 0,
                                                "y": 0,
                                                "width": 1,
                                                "height": 0.3
                                            },
                                            "1": {
                                                "x": 0,
                                                "y": 0.7,
                                                "width": 1,
                                                "height": 0.3
                                            }
                                        },
                                        "startTime": 1705366151472,
                                        "ip": "121.32.201.76",
                                        "port": 41403,
                                        "scriptPassword": "10sdfi90sid0sjkdf",
                                        "modOptions": {
                                            "emprework": 0
                                        },
                                        "bots": [],
                                        "users": [],
                                        "title": "8v8 | All Welcome",
                                        "bossIds": [
                                            123,
                                            456
                                        ],
                                        "locked": false,
                                        "passworded": false,
                                        "spectatorIds": [
                                            88
                                        ],
                                        "limits": {
                                            "minTeamsize": 3,
                                            "maxTeamsize": 3,
                                            "minRating": null,
                                            "maxRating": 25
                                        }
                                    }
                                ],
                                "type": "object",
                                "allOf": [
                                    {
                                        "examples": [
                                            {
                                                "battleId": 27,
                                                "hostId": 822,
                                                "engine": "105.1.1-1821-gaca6f20 BAR105",
                                                "game": "Beyond All Reason test-23561-0abff7c",
                                                "map": "Red Comet Remake 1.8",
                                                "startPosType": 2,
                                                "startAreas": {
                                                    "0": {
                                                        "x": 0,
                                                        "y": 0,
                                                        "width": 1,
                                                        "height": 0.3
                                                    },
                                                    "1": {
                                                        "x": 0,
                                                        "y": 0.7,
                                                        "width": 1,
                                                        "height": 0.3
                                                    }
                                                },
                                                "startTime": 1705366151472,
                                                "ip": "121.32.201.76",
                                                "port": 41403,
                                                "scriptPassword": "10sdfi90sid0sjkdf",
                                                "modOptions": {
                                                    "emprework": 0
                                                },
                                                "bots": [],
                                                "users": []
                                            }
                                        ],
                                        "type": "object",
                                        "properties": {
                                            "battleId": {
                                                "type": "integer"
                                            },
                                            "hostId": {
                                                "type": "integer"
                                            },
                                            "engine": {
                                                "type": "string"
                                            },
                                            "game": {
                                                "type": "string"
                                            },
                                            "map": {
                                                "type": "string"
                                            },
                                            "startPosType": {
                                                "anyOf": [
                                                    {
                                                        "description": "Fixed",
                                                        "const": 0,
                                                        "type": "number"
                                                    },
                                                    {
                                                        "description": "Random",
                                                        "const": 1,
                                                        "type": "number"
                                                    },
                                                    {
                                                        "description": "Boxes",
                                                        "const": 2,
                                                        "type": "number"
                                                    }
                                                ]
                                            },
                                            "startAreas": {
                                                "type": "object",
                                                "patternProperties": {
                                                    "^(0|[1-9][0-9]*)$": {
                                                        "examples": [
                                                            {
                                                                "x": 0,
                                                                "y": 0,
                                                                "width": 1,
                                                                "height": 0.3
                                                            }
                                                        ],
                                                        "type": "object",
                                                        "properties": {
                                                            "x": {
                                                                "type": "number"
                                                            },
                                                            "y": {
                                                                "type": "number"
                                                            },
                                                            "width": {
                                                                "type": "number"
                                                            },
                                                            "height": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "required": [
                                                            "x",
                                                            "y",
                                                            "width",
                                                            "height"
                                                        ]
                                                    }
                                                }
                                            },
                                            "startTime": {
                                                "anyOf": [
                                                    {
                                                        "description": "Unix time",
                                                        "type": "integer"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "ip": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "port": {
                                                "anyOf": [
                                                    {
                                                        "type": "integer"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "scriptPassword": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "modOptions": {
                                                "type": "object",
                                                "patternProperties": {
                                                    "^(.*)$": {}
                                                }
                                            },
                                            "bots": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "allOf": [
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "playerId": {
                                                                    "type": "integer"
                                                                },
                                                                "teamId": {
                                                                    "type": "integer"
                                                                },
                                                                "color": {
                                                                    "type": "string"
                                                                },
                                                                "bonus": {
                                                                    "type": "number"
                                                                },
                                                                "inGame": {
                                                                    "type": "boolean"
                                                                }
                                                            },
                                                            "required": [
                                                                "playerId",
                                                                "teamId",
                                                                "color",
                                                                "bonus",
                                                                "inGame"
                                                            ]
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "isSpectator": {
                                                                    "const": false,
                                                                    "type": "boolean"
                                                                },
                                                                "isBot": {
                                                                    "const": true,
                                                                    "type": "boolean"
                                                                },
                                                                "ownerId": {
                                                                    "type": "integer"
                                                                },
                                                                "aiShortName": {
                                                                    "type": "string"
                                                                },
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "aiOptions": {
                                                                    "type": "object",
                                                                    "patternProperties": {
                                                                        "^(.*)$": {}
                                                                    }
                                                                },
                                                                "faction": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "isSpectator",
                                                                "isBot",
                                                                "ownerId",
                                                                "aiShortName",
                                                                "name",
                                                                "aiOptions",
                                                                "faction"
                                                            ]
                                                        }
                                                    ]
                                                }
                                            },
                                            "users": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "userId": {
                                                            "type": "integer"
                                                        },
                                                        "displayName": {
                                                            "type": "string"
                                                        },
                                                        "avatarUrl": {
                                                            "format": "uri",
                                                            "type": "string"
                                                        },
                                                        "clanId": {
                                                            "anyOf": [
                                                                {
                                                                    "type": "integer"
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        },
                                                        "partyId": {
                                                            "anyOf": [
                                                                {
                                                                    "type": "integer"
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "countryCode": {
                                                            "type": "string"
                                                        },
                                                        "battleStatus": {
                                                            "anyOf": [
                                                                {
                                                                    "allOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "battleId": {
                                                                                    "type": "integer"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "battleId"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "anyOf": [
                                                                                {
                                                                                    "type": "object",
                                                                                    "allOf": [
                                                                                        {
                                                                                            "type": "object",
                                                                                            "properties": {
                                                                                                "playerId": {
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "teamId": {
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "color": {
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "bonus": {
                                                                                                    "type": "number"
                                                                                                },
                                                                                                "inGame": {
                                                                                                    "type": "boolean"
                                                                                                }
                                                                                            },
                                                                                            "required": [
                                                                                                "playerId",
                                                                                                "teamId",
                                                                                                "color",
                                                                                                "bonus",
                                                                                                "inGame"
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "object",
                                                                                            "properties": {
                                                                                                "isSpectator": {
                                                                                                    "const": false,
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "isBot": {
                                                                                                    "const": false,
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "ready": {
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "sync": {
                                                                                                    "type": "object",
                                                                                                    "properties": {
                                                                                                        "engine": {
                                                                                                            "type": "number"
                                                                                                        },
                                                                                                        "game": {
                                                                                                            "type": "number"
                                                                                                        },
                                                                                                        "map": {
                                                                                                            "type": "number"
                                                                                                        }
                                                                                                    },
                                                                                                    "required": [
                                                                                                        "engine",
                                                                                                        "game",
                                                                                                        "map"
                                                                                                    ]
                                                                                                }
                                                                                            },
                                                                                            "required": [
                                                                                                "isSpectator",
                                                                                                "isBot",
                                                                                                "ready",
                                                                                                "sync"
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "object",
                                                                                    "properties": {
                                                                                        "isSpectator": {
                                                                                            "const": true,
                                                                                            "type": "boolean"
                                                                                        },
                                                                                        "isBot": {
                                                                                            "const": false,
                                                                                            "type": "boolean"
                                                                                        }
                                                                                    },
                                                                                    "required": [
                                                                                        "isSpectator",
                                                                                        "isBot"
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "userId",
                                                        "displayName",
                                                        "avatarUrl",
                                                        "clanId",
                                                        "partyId",
                                                        "roles",
                                                        "battleStatus"
                                                    ]
                                                }
                                            }
                                        },
                                        "required": [
                                            "battleId",
                                            "hostId",
                                            "engine",
                                            "game",
                                            "map",
                                            "startPosType",
                                            "startAreas",
                                            "startTime",
                                            "ip",
                                            "port",
                                            "scriptPassword",
                                            "modOptions",
                                            "bots",
                                            "users"
                                        ]
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "title": {
                                                "type": "string"
                                            },
                                            "locked": {
                                                "type": "boolean"
                                            },
                                            "passworded": {
                                                "type": "boolean"
                                            },
                                            "bossIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            },
                                            "joinQueueIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            },
                                            "limits": {
                                                "type": "object",
                                                "properties": {
                                                    "minTeamsize": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "maxTeamsize": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "minRating": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "maxRating": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    }
                                                },
                                                "required": [
                                                    "minTeamsize",
                                                    "maxTeamsize",
                                                    "minRating",
                                                    "maxRating"
                                                ]
                                            }
                                        },
                                        "required": [
                                            "title",
                                            "locked",
                                            "passworded",
                                            "bossIds",
                                            "joinQueueIds",
                                            "limits"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "required": [
                        "battles"
                    ]
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/list/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleListResponse =
    | {
          messageId: string;
          commandId: "customBattle/list/response";
          status: "success";
          data: {
              battles: ({
                  battleId: number;
                  hostId: number;
                  engine: string;
                  game: string;
                  map: string;
                  startPosType: 0 | 1 | 2;
                  startAreas: {
                      [k: string]: {
                          x: number;
                          y: number;
                          width: number;
                          height: number;
                      };
                  };
                  startTime: number | null;
                  ip: string | null;
                  port: number | null;
                  scriptPassword: string | null;
                  modOptions: {
                      [k: string]: unknown;
                  };
                  bots: ({
                      playerId: number;
                      teamId: number;
                      color: string;
                      bonus: number;
                      inGame: boolean;
                  } & {
                      isSpectator: false;
                      isBot: true;
                      ownerId: number;
                      aiShortName: string;
                      name: string;
                      aiOptions: {
                          [k: string]: unknown;
                      };
                      faction: string;
                  })[];
                  users: {
                      userId: number;
                      displayName: string;
                      avatarUrl: string;
                      clanId: number | null;
                      partyId: number | null;
                      roles: string[];
                      countryCode?: string;
                      battleStatus:
                          | ({
                                battleId: number;
                            } & (
                                | ({
                                      playerId: number;
                                      teamId: number;
                                      color: string;
                                      bonus: number;
                                      inGame: boolean;
                                  } & {
                                      isSpectator: false;
                                      isBot: false;
                                      ready: boolean;
                                      sync: {
                                          engine: number;
                                          game: number;
                                          map: number;
                                      };
                                  })
                                | {
                                      isSpectator: true;
                                      isBot: false;
                                  }
                            ))
                          | null;
                  }[];
              } & {
                  title: string;
                  locked: boolean;
                  passworded: boolean;
                  bossIds: number[];
                  joinQueueIds: number[];
                  limits: {
                      minTeamsize: number | null;
                      maxTeamsize: number | null;
                      minRating: number | null;
                      maxRating: number | null;
                  };
              })[];
          };
      }
    | {
          messageId: string;
          commandId: "customBattle/list/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/list/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/list/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/list/response",
    "status": "success",
    "data": {
        "battles": [
            {
                "battleId": 27,
                "hostId": 822,
                "engine": "105.1.1-1821-gaca6f20 BAR105",
                "game": "Beyond All Reason test-23561-0abff7c",
                "map": "Red Comet Remake 1.8",
                "startPosType": 2,
                "startAreas": {
                    "0": {
                        "x": 0,
                        "y": 0,
                        "width": 1,
                        "height": 0.3
                    },
                    "1": {
                        "x": 0,
                        "y": 0.7,
                        "width": 1,
                        "height": 0.3
                    }
                },
                "startTime": 1705366151472,
                "ip": "121.32.201.76",
                "port": 41403,
                "scriptPassword": "10sdfi90sid0sjkdf",
                "modOptions": {
                    "emprework": 0
                },
                "bots": [],
                "users": [],
                "title": "8v8 | All Welcome",
                "bossIds": [
                    123,
                    456
                ],
                "locked": false,
                "passworded": false,
                "spectatorIds": [
                    88
                ],
                "limits": {
                    "minTeamsize": 3,
                    "maxTeamsize": 3,
                    "minRating": null,
                    "maxRating": 25
                }
            }
        ]
    }
}
```
---

## ReceiveMessage

Receive a lobby message. See [sendMessage](#sendmessage) for outgoing messages.

- Endpoint Type: **Response** only
- Requires Login: **false**
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/receiveMessage/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/receiveMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "examples": [
                        {
                            "userId": 27,
                            "message": "Hello lobby!"
                        }
                    ],
                    "type": "object",
                    "properties": {
                        "userId": {
                            "type": "integer"
                        },
                        "message": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "userId",
                        "message"
                    ]
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/receiveMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/receiveMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/receiveMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleReceiveMessageResponse =
    | {
          messageId: string;
          commandId: "customBattle/receiveMessage/response";
          status: "success";
          data: {
              userId: number;
              message: string;
          };
      }
    | {
          messageId: string;
          commandId: "customBattle/receiveMessage/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/receiveMessage/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/receiveMessage/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/receiveMessage/response",
    "status": "success",
    "data": {
        "userId": 27,
        "message": "Hello lobby!"
    }
}
```
---

## SendMessage

Send a lobby message. See [receiveMessage](#receivemessage) for incoming messages.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/sendMessage/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/sendMessage/request",
            "type": "string"
        },
        "data": {
            "examples": [
                {
                    "message": "Hello lobby!"
                }
            ],
            "type": "object",
            "properties": {
                "message": {
                    "maxLength": 300,
                    "type": "string"
                }
            },
            "required": [
                "message"
            ]
        }
    },
    "required": [
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleSendMessageRequest {
    messageId: string;
    commandId: "customBattle/sendMessage/request";
    data: {
        message: string;
    };
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/sendMessage/request",
    "data": {
        "message": "Hello lobby!"
    }
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/sendMessage/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "not_in_lobby",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "muted",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/sendMessage/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleSendMessageResponse =
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "failed";
          reason: "not_in_lobby";
      }
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "failed";
          reason: "muted";
      }
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/sendMessage/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/sendMessage/response",
    "status": "success"
}
```
---

## Subscribe

Subscribe to custom battle updates. If battleIds is passed only updates to those battles will be sent, otherwise updates for all battles will be sent.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/subscribe/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/subscribe/request",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "battleIds": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        }
    },
    "required": [
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleSubscribeRequest {
    messageId: string;
    commandId: "customBattle/subscribe/request";
    data: {
        battleIds?: number[];
    };
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/subscribe/request",
    "data": {
        "mollitb": -75320000
    }
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/subscribe/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/subscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/subscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/subscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/subscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleSubscribeResponse =
    | {
          messageId: string;
          commandId: "customBattle/subscribe/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/subscribe/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/subscribe/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/subscribe/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/subscribe/response",
    "status": "success"
}
```
---

## Unsubscribe

Unsubscribe from custom battle updates. If battleIds is passed only updates to those battles will be stopped, otherwise this will stop updates for all battles.

- Endpoint Type: **Request** -> **Response**
- Requires Login: **false**
### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/unsubscribe/request",
    "requiresLogin": false,
    "type": "object",
    "properties": {
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "customBattle/unsubscribe/request",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "battleIds": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        }
    },
    "required": [
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

#### TypeScript Definition
```ts
export interface CustomBattleUnsubscribeRequest {
    messageId: string;
    commandId: "customBattle/unsubscribe/request";
    data: {
        battleIds?: number[];
    };
}

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/unsubscribe/request",
    "data": {
        "mollitb": -75320000
    }
}
```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/unsubscribe/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/unsubscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/unsubscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/unsubscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/unsubscribe/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleUnsubscribeResponse =
    | {
          messageId: string;
          commandId: "customBattle/unsubscribe/response";
          status: "success";
      }
    | {
          messageId: string;
          commandId: "customBattle/unsubscribe/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/unsubscribe/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/unsubscribe/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/unsubscribe/response",
    "status": "success"
}
```
---

## Updated

Server sends an array of partial battle objects whenever a subscribed battle changes in some way.

- Endpoint Type: **Response** only
- Requires Login: **false**
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "customBattle/updated/response",
    "requiresLogin": false,
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/updated/response",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "type": "object",
                    "properties": {
                        "battles": {
                            "type": "array",
                            "items": {
                                "examples": [
                                    {
                                        "title": "3v3 | Newbies only",
                                        "limits": {
                                            "minTeamsize": 3,
                                            "maxTeamsize": 3,
                                            "minRating": null,
                                            "maxRating": 25
                                        }
                                    }
                                ],
                                "type": "object",
                                "allOf": [
                                    {
                                        "type": "object",
                                        "properties": {
                                            "battleId": {
                                                "type": "integer"
                                            },
                                            "hostId": {
                                                "type": "integer"
                                            },
                                            "engine": {
                                                "type": "string"
                                            },
                                            "game": {
                                                "type": "string"
                                            },
                                            "map": {
                                                "type": "string"
                                            },
                                            "startPosType": {
                                                "anyOf": [
                                                    {
                                                        "description": "Fixed",
                                                        "const": 0,
                                                        "type": "number"
                                                    },
                                                    {
                                                        "description": "Random",
                                                        "const": 1,
                                                        "type": "number"
                                                    },
                                                    {
                                                        "description": "Boxes",
                                                        "const": 2,
                                                        "type": "number"
                                                    }
                                                ]
                                            },
                                            "startAreas": {
                                                "type": "object",
                                                "patternProperties": {
                                                    "^(0|[1-9][0-9]*)$": {
                                                        "examples": [
                                                            {
                                                                "x": 0,
                                                                "y": 0,
                                                                "width": 1,
                                                                "height": 0.3
                                                            }
                                                        ],
                                                        "type": "object",
                                                        "properties": {
                                                            "x": {
                                                                "type": "number"
                                                            },
                                                            "y": {
                                                                "type": "number"
                                                            },
                                                            "width": {
                                                                "type": "number"
                                                            },
                                                            "height": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "required": [
                                                            "x",
                                                            "y",
                                                            "width",
                                                            "height"
                                                        ]
                                                    }
                                                }
                                            },
                                            "startTime": {
                                                "anyOf": [
                                                    {
                                                        "description": "Unix time",
                                                        "type": "integer"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "ip": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "port": {
                                                "anyOf": [
                                                    {
                                                        "type": "integer"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "scriptPassword": {
                                                "anyOf": [
                                                    {
                                                        "type": "string"
                                                    },
                                                    {
                                                        "type": "null"
                                                    }
                                                ]
                                            },
                                            "modOptions": {
                                                "type": "object",
                                                "patternProperties": {
                                                    "^(.*)$": {}
                                                }
                                            },
                                            "bots": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "allOf": [
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "playerId": {
                                                                    "type": "integer"
                                                                },
                                                                "teamId": {
                                                                    "type": "integer"
                                                                },
                                                                "color": {
                                                                    "type": "string"
                                                                },
                                                                "bonus": {
                                                                    "type": "number"
                                                                },
                                                                "inGame": {
                                                                    "type": "boolean"
                                                                }
                                                            },
                                                            "required": [
                                                                "playerId",
                                                                "teamId",
                                                                "color",
                                                                "bonus",
                                                                "inGame"
                                                            ]
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "isSpectator": {
                                                                    "const": false,
                                                                    "type": "boolean"
                                                                },
                                                                "isBot": {
                                                                    "const": true,
                                                                    "type": "boolean"
                                                                },
                                                                "ownerId": {
                                                                    "type": "integer"
                                                                },
                                                                "aiShortName": {
                                                                    "type": "string"
                                                                },
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "aiOptions": {
                                                                    "type": "object",
                                                                    "patternProperties": {
                                                                        "^(.*)$": {}
                                                                    }
                                                                },
                                                                "faction": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "required": [
                                                                "isSpectator",
                                                                "isBot",
                                                                "ownerId",
                                                                "aiShortName",
                                                                "name",
                                                                "aiOptions",
                                                                "faction"
                                                            ]
                                                        }
                                                    ]
                                                }
                                            },
                                            "users": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "userId": {
                                                            "type": "integer"
                                                        },
                                                        "displayName": {
                                                            "type": "string"
                                                        },
                                                        "avatarUrl": {
                                                            "format": "uri",
                                                            "type": "string"
                                                        },
                                                        "clanId": {
                                                            "anyOf": [
                                                                {
                                                                    "type": "integer"
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        },
                                                        "partyId": {
                                                            "anyOf": [
                                                                {
                                                                    "type": "integer"
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "countryCode": {
                                                            "type": "string"
                                                        },
                                                        "battleStatus": {
                                                            "anyOf": [
                                                                {
                                                                    "allOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "battleId": {
                                                                                    "type": "integer"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "battleId"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "anyOf": [
                                                                                {
                                                                                    "type": "object",
                                                                                    "allOf": [
                                                                                        {
                                                                                            "type": "object",
                                                                                            "properties": {
                                                                                                "playerId": {
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "teamId": {
                                                                                                    "type": "integer"
                                                                                                },
                                                                                                "color": {
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "bonus": {
                                                                                                    "type": "number"
                                                                                                },
                                                                                                "inGame": {
                                                                                                    "type": "boolean"
                                                                                                }
                                                                                            },
                                                                                            "required": [
                                                                                                "playerId",
                                                                                                "teamId",
                                                                                                "color",
                                                                                                "bonus",
                                                                                                "inGame"
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "object",
                                                                                            "properties": {
                                                                                                "isSpectator": {
                                                                                                    "const": false,
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "isBot": {
                                                                                                    "const": false,
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "ready": {
                                                                                                    "type": "boolean"
                                                                                                },
                                                                                                "sync": {
                                                                                                    "type": "object",
                                                                                                    "properties": {
                                                                                                        "engine": {
                                                                                                            "type": "number"
                                                                                                        },
                                                                                                        "game": {
                                                                                                            "type": "number"
                                                                                                        },
                                                                                                        "map": {
                                                                                                            "type": "number"
                                                                                                        }
                                                                                                    },
                                                                                                    "required": [
                                                                                                        "engine",
                                                                                                        "game",
                                                                                                        "map"
                                                                                                    ]
                                                                                                }
                                                                                            },
                                                                                            "required": [
                                                                                                "isSpectator",
                                                                                                "isBot",
                                                                                                "ready",
                                                                                                "sync"
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "object",
                                                                                    "properties": {
                                                                                        "isSpectator": {
                                                                                            "const": true,
                                                                                            "type": "boolean"
                                                                                        },
                                                                                        "isBot": {
                                                                                            "const": false,
                                                                                            "type": "boolean"
                                                                                        }
                                                                                    },
                                                                                    "required": [
                                                                                        "isSpectator",
                                                                                        "isBot"
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "null"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "userId",
                                                        "displayName",
                                                        "avatarUrl",
                                                        "clanId",
                                                        "partyId",
                                                        "roles",
                                                        "battleStatus"
                                                    ]
                                                }
                                            }
                                        }
                                    },
                                    {
                                        "type": "object",
                                        "properties": {
                                            "title": {
                                                "type": "string"
                                            },
                                            "locked": {
                                                "type": "boolean"
                                            },
                                            "passworded": {
                                                "type": "boolean"
                                            },
                                            "bossIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            },
                                            "joinQueueIds": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            },
                                            "limits": {
                                                "type": "object",
                                                "properties": {
                                                    "minTeamsize": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "maxTeamsize": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "minRating": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    },
                                                    "maxRating": {
                                                        "anyOf": [
                                                            {
                                                                "type": "integer"
                                                            },
                                                            {
                                                                "type": "null"
                                                            }
                                                        ]
                                                    }
                                                },
                                                "required": [
                                                    "minTeamsize",
                                                    "maxTeamsize",
                                                    "minRating",
                                                    "maxRating"
                                                ]
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    },
                    "required": [
                        "battles"
                    ]
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/updated/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/updated/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "customBattle/updated/response",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_command",
                    "type": "string"
                }
            },
            "required": [
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

#### TypeScript Definition
```ts
export type CustomBattleUpdatedResponse =
    | {
          messageId: string;
          commandId: "customBattle/updated/response";
          status: "success";
          data: {
              battles: ({
                  battleId?: number;
                  hostId?: number;
                  engine?: string;
                  game?: string;
                  map?: string;
                  startPosType?: 0 | 1 | 2;
                  startAreas?: {
                      [k: string]: {
                          x: number;
                          y: number;
                          width: number;
                          height: number;
                      };
                  };
                  startTime?: number | null;
                  ip?: string | null;
                  port?: number | null;
                  scriptPassword?: string | null;
                  modOptions?: {
                      [k: string]: unknown;
                  };
                  bots?: ({
                      playerId: number;
                      teamId: number;
                      color: string;
                      bonus: number;
                      inGame: boolean;
                  } & {
                      isSpectator: false;
                      isBot: true;
                      ownerId: number;
                      aiShortName: string;
                      name: string;
                      aiOptions: {
                          [k: string]: unknown;
                      };
                      faction: string;
                  })[];
                  users?: {
                      userId: number;
                      displayName: string;
                      avatarUrl: string;
                      clanId: number | null;
                      partyId: number | null;
                      roles: string[];
                      countryCode?: string;
                      battleStatus:
                          | ({
                                battleId: number;
                            } & (
                                | ({
                                      playerId: number;
                                      teamId: number;
                                      color: string;
                                      bonus: number;
                                      inGame: boolean;
                                  } & {
                                      isSpectator: false;
                                      isBot: false;
                                      ready: boolean;
                                      sync: {
                                          engine: number;
                                          game: number;
                                          map: number;
                                      };
                                  })
                                | {
                                      isSpectator: true;
                                      isBot: false;
                                  }
                            ))
                          | null;
                  }[];
              } & {
                  title?: string;
                  locked?: boolean;
                  passworded?: boolean;
                  bossIds?: number[];
                  joinQueueIds?: number[];
                  limits?: {
                      minTeamsize: number | null;
                      maxTeamsize: number | null;
                      minRating: number | null;
                      maxRating: number | null;
                  };
              })[];
          };
      }
    | {
          messageId: string;
          commandId: "customBattle/updated/response";
          status: "failed";
          reason: "internal_error";
      }
    | {
          messageId: string;
          commandId: "customBattle/updated/response";
          status: "failed";
          reason: "unauthorized";
      }
    | {
          messageId: string;
          commandId: "customBattle/updated/response";
          status: "failed";
          reason: "invalid_command";
      };

```
#### Example
```json
{
    "messageId": "mollit",
    "commandId": "customBattle/updated/response",
    "status": "success",
    "data": {
        "battles": [
            {
                "title": "3v3 | Newbies only",
                "limits": {
                    "minTeamsize": 3,
                    "maxTeamsize": 3,
                    "minRating": null,
                    "maxRating": 25
                }
            }
        ]
    }
}
```
